{"expireTime":9007200883430825000,"key":"transformer-remark-markdown-html-8b71fe0b7eeacce7de421f24e390057f-gatsby-remark-imagesgatsby-remark-external-linksgatsby-remark-prismjs-","val":"<p>On 20th October the new version of React was released which was a major release for ReactJS after two long years. But surprisingly there were no major developer features that were introduced in this release, rather features related to backward compatibility were introduced to make it easier to upgrade React.</p>\n<h2>Why no new features in React 17 ?</h2>\n<p>The new version of React doesn't add any new developer features to it rather it focuses on adding backward compatibility with old versions of react. React 17 will serve as the bridge between the older and upcoming versions of ReactJS. The team is working on the new features like concurrent mode but they are not a part of this release.</p>\n<p>React 17 allows multiple versions of React to be embedded inside the DOM tree. This is one of the major benifits of React 17.</p>\n<h2>Gradual React Upgrades</h2>\n<p>With React 17 you can do gradual React updates. You can update the entire app from the older version to the new version completely or part by part.</p>\n<p>React 17 provides two options to upgrade your app to the next version of React, say React 18. Either you can upgrade your entire app at once or migrate your app piece by piece.</p>\n<h2>How is it possible to embed different versions of react with React 17 ?</h2>\n<p>In React 17 changes have been made to event delegation. It was possible even before to embed multiple versions of React inside a DOM tree but it was a very delicate move considering how the React event system worked.</p>\n<p>In React we write a click event like:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">    <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>handleClick<span class=\"token punctuation\">}</span><span class=\"token operator\">></span></code></pre></div>\n<p>This event does not attach itself to the document node on which it is written rather it attaches itself to the document root in React 16 and previous versions of React. In React 17 the event is attached to the root dom container in which your tree is rendered. </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">    <span class=\"token keyword\">const</span> rootNode <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    ReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>App <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span> rootNode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>The below diagram shows us how the event progation works in React 16 vs React 17.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 510px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.8%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC8ElEQVQ4y21Uy3LbRhDEbyXOybfkaB+TH8zBj0pZoiyVZLpMkZZK1ssOGQkSSQEE8X5jAZAApjO7pOyKnUPXFmZ7e3tmZ6D9tNPg6V6DP963eHbU4tf9NWTsyW7LaH7Az4znzPud+b8dNPhlG3vc144twohx7hDO7A6nLjC0geNFB7n3fzizJZ+5S8Lwuz0NK0CCagLWQG3eog08oN3EIeNq3X4r7gao/xuX0KK0hROuEYUCYVDAHr6Cd9lHslyiKFoIARSC1JoXpLghn4miCln2bf8RWlkCSbKCaUVYTOcIPu2jCBOk5hSZZaBkkuQ8rlIkCEsYD646V1XbvS20suiUM8/LYFkhmihEHsQQsWBBE0UQoao3h2o+LLlZuoJhuEgjgYbTFFuxii/U8rxTqeRpDdPJcWXkKl15UeY4yD1PESuZEvOyvGU+ELgJrq0KZkToWPQxCy1OGgRJCzfgNPwVC2ZIHY8dFhAp18lmcdEp0ZhrFzLfjxuc3yY4MVpcm2uMJsVWkB2GaYcvbos+EwZ6TFf3LvkmpxqmJAVz11N1qkp2xw5nQYtTa42Xp0v8OfQx8xtM7TVmyxXWXBrtxlmhNw5xdFfQsQW8Hzu4u76gjG8UYYrcD1UNZcp2QvigJ9idJDi8KdBjZwfjBCGXYMaigi/UhvMSBw8t9eaE/rym0cWETm4cmDkokamn5aaG7HDiEQ7vBXamhJ37Dvsm8OIyxmeHXbrN5lEOphXe6oKO9BS7dyWN/p7R4KHC1aIkx0m+imXs4mzZ4C+9xo6+xpsZ4fVNg0Nd4KO5wj92ww/WQetNInw0ahw7oL4eYTRL8WEJGnudatpKtQMLCinYYveLj3Mez7fzDj0WHvC4yRH0U24r5mkTu8KnRUWDucDgLqa+BZKz6qU8XeW3hq3Z6SLucMFtNTQb7N2u8M7geV8CerB5YZWyJBtRixOrVT+IsU9YJNtGVWL42rTyO85YlH8MJ+zqs0u4DwlJvnEnef8CdJZYtyN2JwwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"react 17 delegation\"\n        title=\"react 17 delegation\"\n        src=\"/static/8f258b26b71ab5fd92c2690d3eb0e0fa/527fd/react_17_delegation.png\"\n        srcset=\"/static/8f258b26b71ab5fd92c2690d3eb0e0fa/3e256/react_17_delegation.png 250w,\n/static/8f258b26b71ab5fd92c2690d3eb0e0fa/b30f8/react_17_delegation.png 500w,\n/static/8f258b26b71ab5fd92c2690d3eb0e0fa/527fd/react_17_delegation.png 510w\"\n        sizes=\"(max-width: 510px) 100vw, 510px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>This is why we can nest muliple versions of React in React 17.</p>\n<h2>Major Changelog in React 17</h2>\n<h3>The new JSX transform</h3>\n<p>With the new React 17 you don't need to import React while writing a React component.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">MyComponent</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span><span class=\"token string\">\"some text man\"</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>The above code will turn into </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> jsx <span class=\"token keyword\">as</span> _jsx <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react/jsx-runtime\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">MyComponent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">_jsx</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\"some text man\"</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The react team has worked closely with the babel developers to introduce this feature. There is a chance that this feature may reduce the bundle size according to the react docs.</p>\n<h2>React DOM Changelog</h2>\n<h3>Delegate events to the root instead of the document</h3>\n<p>Prior to React 17 the events were delegated to the document rather than to the root. This had created several issues mostly with embedding different versions of React into an application. With React 17 the events are delegated to the root. This helps us embed multiple versions of React into the application. </p>\n<h3>Clean up all effects before running any new effects</h3>\n<p>Previously we only flushed destroy functions for a single fiber. The reason this is important is because the destroy function in one component can interfere with the ref value of another component.</p>\n<p>the above are few changes probably I liked there are other changes noted on their official website. You can check it <a href=\"%60https://reactjs.org/blog/2020/10/20/react-v17.html%60\">here</a>.</p>"}